# 맵, 키워드 리스트, 집합, 구조체

- 딕셔너리 방식 자료형
- 패턴 매칭 이용하기, 맵 수정하기
- 구조체
- 중첩된 자료구조

딕셔너리는 키와 값을 연결해 데이터를 저장하는 자료형을 말한다. 패턴 매칭에서 딕셔너리 타입을 사용하는 방법과 데이터를 수정하는 방법을 다룬다. 이어서 정해진 구조를 가진 특수한 맵인 구조체struct를 알아보고, 마지막으로는 중첩된 자료구조(이를테면 맵 안에 있는 맵)에서 필드를 수정하는 방법을 찾아본다.

본격적으로 시작하기 전에 생각해볼 것이 한가지 있다. 바로 '여러 딕셔너리 방식 자료 중에서 무서을, 어떤 기준으로 선택해야 하는가? 이다.

## 무엇을 써야 할까?

딕셔너리 방식 자료형이 필요할 떄는 다음 순서대로 스스로에게 질문해보자.

| 질문 | 사용할 자료형 |
| ---- | ------------- |
| 내용을 기준으로 패턴 매칭을 하고 싶은가? | 맵 |
| (예를 들어 `:name`이라는 키가 있는 경우를 패턴 매칭하고 싶은가?) |  |
| 같은 키로 여러 항목을 저장해야 하는가? | 키워드 리스트 |
| 요소들의 순서가 보장되어야 하는가? | 키워드 리스트 |
| 필드가 정해져 있나?(즉, 데이터 구조가 항상 동일한가?) | 구조체 |
| 어느 것도 해당하지 않는 경우 | 맵 |

## 키워드 리스트

키워드 리스트는 일반적으로 함수에 옵션을 전달할 때 사용한다.

접근 연산자인 `keylist[key]`문법을 사용해 값에 쉽게 접근할 수 있다. 또한 Keyword와 Enum 모듈의 모든 함수를 사용할 수 있다.

## 맵

맵은 랜덤 엑세스가 가능한 키-값 자료구조로, 크기와 관계없이 좋은 성능을 낸다. `Map` 모듈의 API를 사용할 수 있다.

## 패턴 매칭하기, 맵 수정

맵을 다룰때 가장 많이 묻게되는 질문은 바로 '특정 키(떄로는 특정 값까지도)가 존재하는가?'이다. 예를 들어 다음과 같은 맵이 있다고 하자.

```
person = %{ name: "Dave", height: 1.88 }
```

첫 번째 패턴 매칭에서 맵의 구조를 분해해 `:name`에 연결된 값을 추철한 데 주목하자. 이러한 동작은 다양하게 응용할 수 있다. 예를 하나 들어보자. for문은 컬렉션을 순회하며 원하는 값을 필터링할 수 있게 해준다. 다음 예제에서는 for를 이용해 여러 사람의 데이터를 순회하며, 항목을 필터링하는 데 필요한 height 값을 추철하기 위해 구조 분해를 사용한다.