# 더 복잡한 리스트 패턴

값을 하나씩 처리하는 방법으로 모든 리스트 문제를 풀 수 있는 것은 아니다. 다행히 조인 연산자인 `|`는 연산자 왼쪽에 여러 값을 두도록 해준다. 따라서 다음과 같이 쓸 수도 있다.

```exs
iex> [1, 2, 3 | [4, 5, 6]]
[1, 2, 3, 4, 5, 6]
```

패턴 매칭에서도 똑같이 동작한다. 따라서 리스트의 앞부분에 있는 여러 값을 한꺼번에 매칭할 수 있다. 예를 들어 다음 프로그램은 리스트의 값을 한 쌍씩 묶어 순서를 바꾼다.

```exs
# swap.exs
defmodule Swapper do
  def swap([]), do: []
  def swap([ a, b | tail ]), do: [b, a | swap(tail)]
  def swap([_]), do: raise "Can't swap a list with an odd number of elements"
end
```


swap 함수의 세 번쨰 정의에는 값 하나짜리 리스트가 매칭된다. 재귀 호출을 수행한 결과 리스트에 값이 하나만 남았을 때가 이 경우에 해당한다. 매 호출마다 값을 두 개씩 처리하고 있으므로, 처음에 받은 리스트의 길이가 홀수일 때 이 패턴에 매칭된다.
